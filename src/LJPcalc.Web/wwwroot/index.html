<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>LJPcalc</title>
    <link rel="icon" href="favicon.ico" sizes="any">
    <link href="css/bootstrap.min.css" rel="stylesheet" />
    <link href="css/app.css" rel="stylesheet" />
    <link href="css/blazor.css" rel="stylesheet" />
    <link href="LJPcalc.Web.styles.css" rel="stylesheet" />

    <script async src='https://www.googletagmanager.com/gtag/js?id=UA-560719-1'></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'UA-560719-1');
    </script>

    <script>
        function updateFooterMessage(text) {
            document.getElementById("footerMessage").innerText = text;
        }
    </script>
</head>

<body>

    <header class="text-light py-3" style="background-color: #204066;">
        <div class="container-fluid" style="max-width: 1000px;">
            <div class="lh-1" style="font-weight: 400; font-size: 3em;">LJPcalc</div>
            <div class="p-1">
                <div style="opacity: .5; color: #CCC;" class="d-flex flex-wrap">
                    <div>
                        Liquid junction potential calculator&nbsp;
                    </div>
                    <div>
                        by <a href="https://swharden.com/about/" class="text-light">Scott Harden</a> and
                        <a href="https://sites.google.com/site/dbrogioli/" class="text-light">Doriano Brogioli</a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="" style="padding-bottom: 5em;">

        <div class="container-fluid" style="max-width: 1000px;">

            <div id="app">
                <h2 class="py-5">
                    <span>Loading... </span>
                    <div class="spinner-border fs-6" role="status" style="width: 1.5rem; height: 1.5rem;">
                        <span class="visually-hidden">Loading...</span>
                    </div>

                    <div class="progress my-2" style="height: 2em;">
                        <div id="progressbar" class="progress-bar progress-bar-striped progress-bar-animated"
                            role="progressbar" style="width: 10%; background-color: #204066;"></div>
                    </div>
                </h2>

            </div>

            <section class="my-5">
                <h2>Calculation Method</h2>
                <p>
                    <strong>
                        LJPcalc calculates the liquid junction potential
                        according to the stationary Nernst-Planck equation
                    </strong>

                    which is typically regarded as superior to the simpler Henderson equation used by most commercial
                    LJP calculators (<a href="https://arxiv.org/abs/1403.3640">Marino et al., 2014</a>).
                    Both equations produce similar values, but the Henderson equation under-estimates
                    the junction potential as ion concentrations increase (especially when solutions contain polyvalent
                    ions).
                    For these reasons the LJP reported by LJPcalc may be slightly greater in magnitude
                    than that reported by other LJP calculators.
                </p>
            </section>

            <section class="my-5">
                <h2>Final Concentrations</h2>

                <p>
                    <strong>
                        LJPcalc slightly adjusts ion concentrations as it calculates LJP.
                    </strong>
                    LJPcalc works to identify a solution that minimizes the difference between the
                    adjusted concentrations and the user-provided concentrations. Except for the penultimate ion,
                    only concentrations on side B are adjusted while calculating LJP.

                    A solution is considered
                    found when all adjusted side B concentrations are so close to the user-provided concentrations
                    that the difference no longer has a significant influence on LJP.

                    Note that the side A or side B concentration for the final and penultimate ions (respectively)
                    may be adjusted to achieve electroneutrality.
                </p>
            </section>

            <section class="my-5">
                <h2>Ion Order</h2>
                <p>
                    <strong>
                        LJPcalc automatically sorts the ions into an ideal order before calculating LJP.
                    </strong>
                    This is why the ions listed in the results table may appear
                    in a different order than originally provided.

                    The ion with the largest concentration difference is moved to the final position,
                    and its side A concentration may be adjusted as needed to achieve electroneutrality.

                    The remaining ion with the largest side B concentration is moved to the penultimate position,
                    and its side B concentration is be adjusted as needed to achieve electroneutrality.
                </p>
            </section>

            <section class="my-5">
                <h2 id="citing">Citing LJPcalc</h2>
                <p>
                    <strong>If you enjoy LJPcalc, consider citing it by name:</strong>
                    <span class="fst-italic">
                        Liquid junction potential was calculated according to the stationary Nernstâ€“Planck equation
                        (<a href="https://arxiv.org/abs/1403.3640">Marino et al., 2014</a>)
                        using LJPcalc software (<a
                            href="https://swharden.com/LJPcalc">https://swharden.com/LJPcalc</a>).
                    </span>
                </p>
            </section>
        </div>

        <div id="blazor-error-ui">
            An unhandled error has occurred.
            <a href="" class="reload">Reload</a>
            <a class="dismiss">ðŸ—™</a>
        </div>

    </main>

    <footer class="p-3" style="opacity: .5;">
        <div class="container-fluid" style="max-width: 1000px; font-size: .9em;">
            <div class="text-center">
                <div id="footerMessage">
                    LJPcalc running on .NET
                </div>
                <div>
                    <a href="https://github.com/swharden/LJPcalc"
                        class="text-dark">https://github.com/swharden/LJPcalc</a>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/bootstrap.bundle.min.js"></script>

    <script src="_framework/blazor.webassembly.js?version=net6.0" autostart="false"></script>

    <script>
        var i = 0;
        var allResourcesBeingLoaded = [];
        Blazor.start({ // start manually with loadBootResource
            loadBootResource: function (type, name, defaultUri, integrity) {
                if (type == "dotnetjs")
                    return defaultUri;

                var fetchResources = fetch(defaultUri, {
                    cache: 'no-cache',
                    integrity: integrity,
                    headers: { 'MyCustomHeader': 'My custom value' }
                });

                allResourcesBeingLoaded.push(fetchResources);
                fetchResources.then((r) => {
                    i++;
                    var total = allResourcesBeingLoaded.length;
                    var progressbar = document.getElementById('progressbar');
                    var value = parseInt((i * 100.0) / total);
                    var pct = value + '%';
                    progressbar.style.width = pct;
                    console.info(i + '/' + total + ' (' + pct + ') ' + name);
                });
                return fetchResources;
            }
        });
    </script>
</body>

</html>